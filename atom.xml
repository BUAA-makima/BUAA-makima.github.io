<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Makima777</title>
  
  <subtitle>Makima777の博客</subtitle>
  <link href="https://makima777.github.io/atom.xml" rel="self"/>
  
  <link href="https://makima777.github.io/"/>
  <updated>2023-04-11T15:33:25.032Z</updated>
  <id>https://makima777.github.io/</id>
  
  <author>
    <name>Makima777</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>nvim-配置</title>
    <link href="https://makima777.github.io/posts/1ce0a0b5.html"/>
    <id>https://makima777.github.io/posts/1ce0a0b5.html</id>
    <published>2023-04-11T14:11:38.000Z</published>
    <updated>2023-04-11T15:33:25.032Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>在配置nvim插件的时候遇到了很多的问题，现在记录下来防止以后重复工作，整个配置放在了<a href="https://github.com/Makima777/nvim">Makima777/nvim (github.com)</a>,其中大部分是根据彭启阳同学在OS课程分享的配置更改的。</p><h2 id="1-nvim-treesitter">1. nvim-treesitter</h2><p><a href="https://github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter</a>是一款具有<strong>代码高亮</strong>，<strong>增量选择</strong>，<strong>代码格式化</strong>以及<strong>折叠代码块</strong>的功能，后面三个我暂时还没用上。</p><p>在安装语言解析器(parser)的时候，对于<code>yaml</code>和<code>html</code>两种语言的时候一直出现错误，报错信息大概是<code>Impossible to load parser for html: Failed to load parser</code>。</p><p>后面在<a href="https://github.com/nvim-treesitter/nvim-treesitter/issues/3587">issue</a>里面找到了相似的问题，原因就是这两种语言在解析器里会使用c++，需要c++的标准库，然后nvim自带的libstdc+±6.dll和gcc的冲突，解决方法就是改变编译器,<code>zig</code>或者<code>clang</code>都可以。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;nvim-treesitter.install&#x27;</span>).compilers = &#123;<span class="string">&quot;zig&quot;</span>, <span class="string">&quot;gcc&quot;</span>, <span class="string">&quot;clang&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="2-内置终端">2. 内置终端</h2><p>在Windows下nvim的内置终端选择的是cmd，用着很不舒服，可以通过以下命令将其改成powershell。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">shell = vim.fn.executable <span class="string">&quot;pwsh&quot;</span> == <span class="number">1</span> <span class="keyword">and</span> <span class="string">&quot;pwsh&quot;</span> <span class="keyword">or</span> <span class="string">&quot;powershell&quot;</span>,</span><br><span class="line">shellcmdflag = <span class="string">&quot;-NoLogo -NoProfile -ExecutionPolicy RemoteSigned -Command [Console]::InputEncoding=[Console]::OutputEncoding=[System.Text.Encoding]::UTF8;&quot;</span>,</span><br><span class="line">shellredir = <span class="string">&quot;-RedirectStandardOutput %s -NoNewWindow -Wait&quot;</span>,</span><br><span class="line">shellpipe = <span class="string">&quot;2&gt;&amp;1 | Out-File -Encoding UTF8 %s; exit $LastExitCode&quot;</span>,</span><br><span class="line">shellquote = <span class="string">&quot;&quot;</span>,</span><br><span class="line">shellxquote = <span class="string">&quot;&quot;</span>,</span><br></pre></td></tr></table></figure><h2 id="3-nvim-tree">3. nvim-tree</h2><p><a href="https://github.com/nvim-tree/nvim-tree.lua">nvim-tree</a>是一款文件管理的插件，可以显示git等信息。</p><p>但是在文件排序的时候默认会根据字典序排，如果遇到数字的话就会出现<code>1,10,2</code>这样的顺序，根据<a href="https://github.com/nvim-tree/nvim-tree.lua/discussions/1896">issue</a>配置就可以解决这个问题了。</p><h2 id="4-code-runner">4. code_runner</h2><p><a href="https://github.com/CRAG666/code_runner.nvim">code_runner</a>是一款快速运行文件或者项目的插件，通过参数设置可以配置对应文件或者项目的运行命令。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">filetype = &#123;</span><br><span class="line">    c = <span class="string">&#x27;cd %:p:h &amp;&amp; gcc -g -Wall -lm -std=c11 % -o .\\bin\\$fileNameWithoutExt &amp;&amp; .\\bin\\$fileNameWithoutExt&#x27;</span>,</span><br><span class="line">    cpp = <span class="string">&#x27;cd %:p:h &amp;&amp; g++ -g -O2 -Wall -lm -std=c++17 % -o .\\bin\\$fileNameWithoutExt &amp;&amp; .\\bin\\$fileNameWithoutExt&#x27;</span>,</span><br><span class="line">    lua = <span class="string">&#x27;lua&#x27;</span>,</span><br><span class="line">    python = <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">    sh = <span class="string">&#x27;bash&#x27;</span>,</span><br><span class="line">    dosbatch = <span class="string">&#x27;cd $dir &amp;&amp; %&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>我目前只需要单文件的运行，所以并不是很复杂，其中带<code>$</code>的参数都是code_runner的内置变量，<code>dir</code>代表打开文件的目录，<code>fileName</code>代表文件名，<code>file</code>代表文件路径，<code>fileNameWithoutExt</code>代表没有后缀的文件名。<code>%</code>等是vim的内置变量，详见<a href="https://vimdoc.sourceforge.net/htmldoc/cmdline.html#filename-modifiers">vim 文档</a>。需要注意的是如果不使用code_runner的内置变量那么命令最后会自己加上文件名。</p>]]></content>
    
    
    <summary type="html">记录配置neovim时遇到的问题</summary>
    
    
    
    <category term="vim" scheme="https://makima777.github.io/categories/vim/"/>
    
    
    <category term="vim nvim" scheme="https://makima777.github.io/tags/vim-nvim/"/>
    
  </entry>
  
  <entry>
    <title>hello-hexo</title>
    <link href="https://makima777.github.io/posts/b68a7456.html"/>
    <id>https://makima777.github.io/posts/b68a7456.html</id>
    <published>2023-04-11T12:36:39.000Z</published>
    <updated>2023-04-12T03:39:39.802Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h2><p><code>Front-matter</code> 是 markdown 文件最上方以<code>---</code>分隔的区域，用于指定个别档案的变数。</p><h3 id="Page-Front-matter-页面配置"><a href="#Page-Front-matter-页面配置" class="headerlink" title="Page Front-matter 页面配置"></a>Page Front-matter 页面配置</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>参数</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td>title</td><td style="text-align:center">[必需]页面标题</td></tr><tr><td>date</td><td style="text-align:center">[必需]页面创建时间</td></tr><tr><td>updated</td><td style="text-align:center">[可选]页面更新日期</td></tr><tr><td>type</td><td style="text-align:center">[必需]标签、分类以及友情链接三个页面需要配置</td></tr><tr><td>comments</td><td style="text-align:center">[可选]显示页面评论模块(默认 true)</td></tr><tr><td>description</td><td style="text-align:center">[可选]页面描述</td></tr><tr><td>keywords</td><td style="text-align:center">[可选]页面关键词</td></tr><tr><td>top_img</td><td style="text-align:center">[可选]页面顶部图片</td></tr><tr><td>mathjax</td><td style="text-align:center">[可选]显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td style="text-align:center">[可选]显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td style="text-align:center">[可选]显示侧边栏(默认 true)</td></tr><tr><td>aplayer</td><td style="text-align:center">[可选]在需要的页面加载aplayer的js和css</td></tr><tr><td>highlight_shrink</td><td style="text-align:center">[可选]配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置,我设置为 true)</td></tr></tbody></table></div><h3 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>参数</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td>title</td><td style="text-align:center">[必需]文章标题</td></tr><tr><td>date</td><td style="text-align:center">[必需]文章创建时间</td></tr><tr><td>updated</td><td style="text-align:center">[可选]文章更新日期</td></tr><tr><td>tags</td><td style="text-align:center">[可选]文章标签</td></tr><tr><td>categories</td><td style="text-align:center">[可选]文章分类</td></tr><tr><td>keywords</td><td style="text-align:center">[可选]文章关键词</td></tr><tr><td>description</td><td style="text-align:center">[可选]文章描述</td></tr><tr><td>top_img</td><td style="text-align:center">[可选]文章顶部图片</td></tr><tr><td>comments</td><td style="text-align:center">[可选]显示文章评论模块(默认 true)</td></tr><tr><td>cover</td><td style="text-align:center">[可选]文章缩略图</td></tr><tr><td>toc</td><td style="text-align:center">[可选]显示文章TOC(默认为设置中toc的enable配置,我设置为 true)</td></tr><tr><td>toc_number</td><td style="text-align:center">[可选]显示toc_number(默认为设置中toc的number配置,我设置为 true)</td></tr><tr><td>toc_style_simple</td><td style="text-align:center">[可选]显示 toc 简洁模式</td></tr><tr><td>copyright</td><td style="text-align:center">[可选]显示文章版权模块(默认为设置中post_copyright的enable配置)</td></tr><tr><td>copyright_author</td><td style="text-align:center">[可选]文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td style="text-align:center">[可选]文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td style="text-align:center">[可选]文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td style="text-align:center">[可选]文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td style="text-align:center">[可选]显示mathjax(当设置mathjax的per_page: false时，才需要配置,默认 false)</td></tr><tr><td>katex</td><td style="text-align:center">[可选]显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td style="text-align:center">[可选]显示侧边栏(默认 true)</td></tr><tr><td>aplayer</td><td style="text-align:center">[可选]在需要的文章加载aplayer的js和css</td></tr><tr><td>highlight_shrink</td><td style="text-align:center">[可选]配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td></tr></tbody></table></div><h2 id="图床设置"><a href="#图床设置" class="headerlink" title="图床设置"></a>图床设置</h2><h3 id="Github-PicGo-typora"><a href="#Github-PicGo-typora" class="headerlink" title="Github + PicGo + typora"></a>Github + PicGo + typora</h3><p>在github中新建一个仓库作为图床，使用typora插入图片的时候可以通过<a href="https://github.com/Molunerfinn/PicGo">PicGo</a>上传到github中。</p><h3 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h3><p>具体配置部分，勾选需要显示的图床(默认全部显示)<img src="https://raw.githubusercontent.com/makima777/pic_bed/master/img/2023/04/12/202304123035.png" alt="image-20230412113035788"></p><p>在图床设置内选中相应的图床进行设置</p><p><img src="https://raw.githubusercontent.com/makima777/pic_bed/master/img/2023/04/12/202304122929.png" alt="image-20230412112929180"></p><p>其中图床配置名随意，仓库名按照 github用户名/创建的仓库名 的格式填入即可，分支名输入仓库默认分支即可，Token需要创建，在github页面点击右上角头像<code>Settings-&gt;Developer settings-&gt;personal access tokens-&gt;token(classic)</code>，然后点击<code>Generate new token(classic)</code></p><p><img src="https://raw.githubusercontent.com/makima777/pic_bed/master/img/2023/04/12/202304122840.png" alt="image-20230412112840083"></p><p>Note随意，Expiration有效期选择No expiration(有效期过了之后似乎是需要续期的，嫌麻烦的话直接不设就行），需要注意的是生成之后token只会显示一次，需要复制下来填入上面显示的空里面。</p><p>储存路径就是在图片在仓库中的储存位置，例如img/就会在存在img文件夹内。</p><p>自定义域名我暂时还没用到，如果访问github很慢的话可能需要设置。</p><h3 id="typora"><a href="#typora" class="headerlink" title="typora"></a>typora</h3><p><img src="https://raw.githubusercontent.com/makima777/pic_bed/master/img/2023/04/12/202304122705.png" alt="image-20230412112705624"></p><p>在<code>偏好设置-&gt;图像</code>中如上图设置即可，优先使用相对路径需要取消勾选，PicGo路径选择自己的安装路径即可，通过验证图片上传选项可以测试自己是否配置成功。</p><h3 id="PicGo插件"><a href="#PicGo插件" class="headerlink" title="PicGo插件"></a>PicGo插件</h3><p>PicGo提供了很多优秀的插件，可以在<code>插件设置</code>中进行搜索安装。</p><h4 id="github-plus"><a href="#github-plus" class="headerlink" title="github-plus"></a>github-plus</h4><p>在使用的时候会发现，光是在PicGo的相册中删除图片，github中储存的图片并不会消失，于是可以安装<a href="https://github.com/zWingz/picgo-plugin-github-plus">github-plus</a>插件，对操作进行同步，同时能够把远端的图片pull到相册中。</p><p>安装之后在PicGo设置中勾选githubPlus，然后设置和之前一样即可，token如果忘记了可以去设置中打开<code>配置文件</code>,里面记录了token复制即可(<del>虽然不知道这样真的有安全性吗，还有就是这个插件的token不会隐藏</del>)，接着需要将这个图床设置为默认图床，否则上传还是之前的github设置，即使取消勾选了。</p><p>这个插件还有一个比较好的地方就是他还支持gitee，只需要在origin那一个设置中选择即可。</p><h4 id="super-prefix"><a href="#super-prefix" class="headerlink" title="super-prefix"></a>super-prefix</h4><p>这一款<a href="https://github.com/gclove/picgo-plugin-super-prefix">插件</a>是用于图片命名的，安装之后可以进行设置</p><p><img src="https://raw.githubusercontent.com/makima777/pic_bed/master/img/2023/04/12/202304123332.png" alt="image-20230412113332495"></p><p>文件名个性前缀就是设置图片的储存路径，例如图片名为202304123332，那么就会被储存在2023/04/12这个文件夹下，相当于按日期分类了，使用这个需要关掉PicGo的时间戳重命名。</p><p>目前我还没试过除了日期还能不能用其他的命名。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.fomal.cc/">Fomalhaut🥝</a></p>]]></content>
    
    
    <summary type="html">Hexo 记录</summary>
    
    
    
    <category term="Hexo" scheme="https://makima777.github.io/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://makima777.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
